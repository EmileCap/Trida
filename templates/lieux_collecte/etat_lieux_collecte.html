{% extends 'layout.html' %}

{% block title %}
<title>État des Lieux de collecte</title>
{% endblock %}

{% block body %}
<div class="container mt-5 mb-5" style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;">

    <h1 class="mb-5 text-center" style="color:#1E90FF; font-weight:700; font-size:2.5rem;">État des Lieux de collecte</h1>
    <h5 style="color:#1E90FF; font-weight:600;">Nombre de lieux de collecte {{ nombres }}</h5>

    <div class="row g-4 mb-5">
        <div class="col-md-12">
            <div class="card rounded-3" style="border:none; background-color:#fff;">
                <div class="card-body">
                    <h5 class="text-center text-primary">Nombre de conteneurs par lieux de collecte</h5>
                    <table class="table table-hover align-middle">
                        <thead class="bg-primary text-white">
                        <tr>
                            <th class="text-center">ID</th>
                            <th class="text-center">Nom du lieu</th>
                            <th class="text-center">Nombre de conteneurs</th>
                            <th class="text-center">Quantité de déchets</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for t in compte %}
                            <tr>
                                <td class="text-center">{{ t.id_lieu}}</td>
                                <td class="text-center">{{ t.libelle}}</td>
                                <td class="text-center">{{ t.nb_conteneur}}</td>
                                <td class="text-center">{{ t.qte_max }} L</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <form method="post" action="/lieux_collecte/etat" >
        <fieldset class="d-flex">
            <div class="w-25 px-4">

                <h5>Jours d'ouvertures</h5>
                <div class="form-check">
                    {% for ligne in jour %}
                    {% set unique_id = 'filter_items_' ~ ligne.id %}
                    <label for="{{ unique_id }}">{{ ligne.ajouter_jour }}</label>
                    <input class="form-check-input" type="checkbox" id="filter_items_{{ ligne.id_jour}}" value="{{ ligne.id_jour }}" name="filter_items">
                    <br>
                    {% endfor %}
                </div>
            </div>


        </fieldset>
        <br>
        <input type="submit" value="Soumettre" name="Soumettre le filtre" class="btn btn-success">
    </form>

    <div class="row g-4 mb-5">
        <div class="col-md-12">
            <div class="card rounded-3" style="border:none; background-color:#fff;">
                <div class="card-body">
                    <h5 class="text-center text-primary">Nombre de conteneurs par lieux de collecte</h5>
                    <table class="table table-hover align-middle">
                        <thead class="bg-primary text-white">
                        <tr>
                            <th class="text-center">ID</th>
                            <th class="text-center">Nom du lieu</th>
                            <th class="text-center">localisation</th>
                            <th class="text-center">ouverture</th>
                            <th class="text-center">fermeture</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for ligne in compte %}
                        <tr>
                            <th class="text-center">{{ligne.id_lieu}}</td>
                            <th class="text-center">{{ligne.libelle}}</td>
                            <th class="text-center">{{ligne.adresse}}</td>
                            <th class="text-center">{{ligne.ouverture}}</td>
                            <th class="text-center">{{ligne.fermeture}}</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <form method="post" action="/lieux_collecte/etat" >
        <fieldset class="d-flex">
            <div class="w-25 px-4">

                <h5>Selectionner le lieu de collecte</h5>
                <div class="form-check">
                    <select class="form-select" id="id_lieu" name="id_lieu" type="number" required>
                        <option value="{{lieux.id_lieu_de_collecte}}">Sélectionner un lieu</option>
                        {% for l in lieux %}
                        <option value="{{ l.id_lieu_de_collecte}}"> {{ l.libelle_lieu_de_collecte}} </option>
                        {% endfor %}
                    </select><br>
                </div>
            </div>


        </fieldset>
        <br>
        <input type="submit" value="Soumettre" name="Soumettre le filtre" class="btn btn-success">
    </form>


</div>
{% endblock %}
